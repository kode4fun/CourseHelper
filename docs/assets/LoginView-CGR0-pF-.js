import{as as k,ak as E,y as u,z as v,a3 as y,k as V,l as x,a5 as o,a6 as a,f as t,al as L,a9 as C,a1 as I}from"./index-D_yE4nD3.js";import{E as B}from"./el-dialog-B2JPAzqF.js";import"./el-overlay-CGAf0vmE.js";import{a as p,E as _}from"./el-col-e4kdPNEr.js";import{E as K}from"./el-input-C4MnRXfs.js";import"./isUndefined-DCTLXrZ8.js";const b={class:"main"},z={__name:"LoginView",setup(A){const g=E(),i=u(!0),c=u(""),d=u(),m=l=>{l.target.classList.toggle("animation-shake"),l.target.removeEventListener("animationend",m)},w=()=>i.value=!1,h=async()=>{function l(e){return new Promise((s,n)=>setTimeout(()=>{var f;if(e==="wenchuan")s({code:0});else{const r=(f=d.value)==null?void 0:f.$el;r&&r.classList.toggle("animation-shake"),r&&(r.onAnimationEnd=()=>{m(),s({code:-1,msg:"口令错误"})})}},Math.random()*200+500))}await l(c.value).then(e=>{if(e.code===0)localStorage.setItem("token","user_logined"),g.push("/");else throw new Error(e.msg)}).catch(()=>{}).finally(()=>{})};return v(()=>{}),(l,e)=>{const s=y("el-icon-key");return V(),x("div",b,[o(t(B),{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=n=>i.value=n),title:"请输入访问口令","before-close":w,style:{width:"15%","min-width":"320px"},"close-on-press-escape":!1,"align-center":!0,"show-close":!1,"close-on-click-modal":!1},{footer:a(()=>[o(t(p),{class:"input-row"},{default:a(()=>[o(t(_),{offset:18,span:6},{default:a(()=>[o(t(L),{type:"primary",onClick:h},{default:a(()=>[C("确定")]),_:1})]),_:1})]),_:1})]),default:a(()=>[o(t(p),{class:"input-row"},{default:a(()=>[o(t(_),{span:24,ref_key:"refKouling",ref:d},{default:a(()=>[o(t(K),{placeholder:"口令",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=n=>c.value=n),"show-password":""},{prefix:a(()=>[o(t(I),{color:"var(--el-color-primary)",size:"large"},{default:a(()=>[o(s)]),_:1})]),_:1},8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue"])])}}},U=k(z,[["__scopeId","data-v-492ec450"]]);export{U as default};
