import{L as M,bQ as Ve,ay as tt,aO as Tt,ax as $e,aw as nt,bR as ot,ba as Ft,aM as Ct,bb as Pt,bS as It,c as m,bl as kt,b as at,z as de,o as Se,Q as st,y as k,bk as ue,w as B,b1 as Ot,D as Lt,T as rt,N as Be,W as Nt,X as he,Y as He,bI as Rt,U as we,S as ce,d as xe,bT as _t,aF as At,F as zt,G as Vt,J as $t,ao as Bt,u as De,V as Ht,bU as Dt,bV as Kt,bt as lt,A as Ut,n as V,ap as Mt,bd as Wt,k as b,l as I,B as y,a7 as be,s as x,f as r,m as Z,p as K,aa as L,a6 as J,ad as oe,a1 as Q,bu as ye,a5 as Yt,Z as Xt,x as Gt,bp as qt,q as ae,C as jt,_ as it,a as Ke,ag as Jt,a2 as Qt}from"./index-CfG3UZPV.js";const Zt=()=>M&&/firefox/i.test(window.navigator.userAgent);function en(e){return e}function tn(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}var nn=800,on=16,an=Date.now;function sn(e){var t=0,o=0;return function(){var n=an(),s=on-(n-o);if(o=n,s>0){if(++t>=nn)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function rn(e){return function(){return e}}var ln=Ve?function(e,t){return Ve(e,"toString",{configurable:!0,enumerable:!1,value:rn(t),writable:!0})}:en,un=sn(ln),Ue=Math.max;function cn(e,t,o){return t=Ue(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=Ue(n.length-t,0),u=Array(i);++s<i;)u[s]=n[t+s];s=-1;for(var p=Array(t+1);++s<t;)p[s]=n[s];return p[t]=o(u),tn(e,this,p)}}var dn=9007199254740991;function fn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dn}var pn="[object Arguments]";function Me(e){return tt(e)&&Tt(e)==pn}var ut=Object.prototype,vn=ut.hasOwnProperty,mn=ut.propertyIsEnumerable,ct=Me(function(){return arguments}())?Me:function(e){return tt(e)&&vn.call(e,"callee")&&!mn.call(e,"callee")};function hn(e,t){for(var o=-1,n=t.length,s=e.length;++o<n;)e[s+o]=t[o];return e}var We=$e?$e.isConcatSpreadable:void 0;function bn(e){return nt(e)||ct(e)||!!(We&&e&&e[We])}function yn(e,t,o,n,s){var i=-1,u=e.length;for(o||(o=bn),s||(s=[]);++i<u;){var p=e[i];o(p)?hn(s,p):s[s.length]=p}return s}function gn(e){var t=e==null?0:e.length;return t?yn(e):[]}function En(e){return un(cn(e,void 0,gn),e+"")}function wn(e,t){return e!=null&&t in Object(e)}function Sn(e,t,o){t=ot(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var u=Ft(t[n]);if(!(i=e!=null&&o(e,u)))break;e=e[u]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&fn(s)&&Ct(u,s)&&(nt(e)||ct(e)))}function xn(e,t){return e!=null&&Sn(e,t,wn)}function Tn(e,t,o){for(var n=-1,s=t.length,i={};++n<s;){var u=t[n],p=Pt(e,u);o(p,u)&&It(i,ot(u,e),p)}return i}function Fn(e,t){return Tn(e,t,function(o,n){return xn(e,n)})}var Cn=En(function(e,t){return e==null?{}:Fn(e,t)});class Pn extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function io(e,t){throw new Pn(`[${e}] ${t}`)}function uo(e,t){}let se;const co=e=>{var t;if(!M)return 0;if(se!==void 0)return se;const o=document.createElement("div");o.className=`${e}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const n=o.offsetWidth;o.style.overflow="scroll";const s=document.createElement("div");s.style.width="100%",o.appendChild(s);const i=s.offsetWidth;return(t=o.parentNode)==null||t.removeChild(o),se=n-i,se};function fo(e,t){if(!M)return;if(!t){e.scrollTop=0;return}const o=[];let n=t.offsetParent;for(;n!==null&&e!==n&&e.contains(n);)o.push(n),n=n.offsetParent;const s=t.offsetTop+o.reduce((v,w)=>v+w.offsetTop,0),i=s+t.offsetHeight,u=e.scrollTop,p=u+e.clientHeight;s<u?e.scrollTop=s:i>p&&(e.scrollTop=i-e.clientHeight)}const In=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),kn=["class","style"],On=/^on[A-Z]/,Ln=(e={})=>{const{excludeListeners:t=!1,excludeKeys:o}=e,n=m(()=>((o==null?void 0:o.value)||[]).concat(kn)),s=at();return s?m(()=>{var i;return kt(Object.entries((i=s.proxy)==null?void 0:i.$attrs).filter(([u])=>!n.value.includes(u)&&!(t&&On.test(u))))}):m(()=>({}))};let U=[];const Ye=e=>{const t=e;t.key===st.esc&&U.forEach(o=>o(t))},Nn=e=>{de(()=>{U.length===0&&document.addEventListener("keydown",Ye),M&&U.push(e)}),Se(()=>{U=U.filter(t=>t!==e),U.length===0&&M&&document.removeEventListener("keydown",Ye)})};function Rn(e){const t=k();function o(){if(e.value==null)return;const{selectionStart:s,selectionEnd:i,value:u}=e.value;if(s==null||i==null)return;const p=u.slice(0,Math.max(0,s)),v=u.slice(Math.max(0,i));t.value={selectionStart:s,selectionEnd:i,value:u,beforeTxt:p,afterTxt:v}}function n(){if(e.value==null||t.value==null)return;const{value:s}=e.value,{beforeTxt:i,afterTxt:u,selectionStart:p}=t.value;if(i==null||u==null||p==null)return;let v=s.length;if(s.endsWith(u))v=s.length-u.length;else if(s.startsWith(i))v=i.length;else{const w=i[p-1],T=s.indexOf(w,p-1);T!==-1&&(v=T+1)}e.value.setSelectionRange(v,v)}return[o,n]}function _n(e,{afterFocus:t,beforeBlur:o,afterBlur:n}={}){const s=at(),{emit:i}=s,u=ue(),p=k(!1),v=d=>{p.value||(p.value=!0,i("focus",d),t==null||t())},w=d=>{var N;Lt(o)&&o(d)||d.relatedTarget&&((N=u.value)!=null&&N.contains(d.relatedTarget))||(p.value=!1,i("blur",d),n==null||n())},T=()=>{var d;(d=e.value)==null||d.focus()};return B(u,d=>{d&&d.setAttribute("tabindex","-1")}),Ot(u,"click",T),{wrapperRef:u,isFocused:p,handleFocus:v,handleBlur:w}}const An=rt({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),zn=e=>Cn(An,e);let C;const Vn=`
  height:0 !important;
  visibility:hidden !important;
  ${Zt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,$n=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Bn(e){const t=window.getComputedStyle(e),o=t.getPropertyValue("box-sizing"),n=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),s=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:$n.map(u=>`${u}:${t.getPropertyValue(u)}`).join(";"),paddingSize:n,borderSize:s,boxSizing:o}}function Xe(e,t=1,o){var n;C||(C=document.createElement("textarea"),document.body.appendChild(C));const{paddingSize:s,borderSize:i,boxSizing:u,contextStyle:p}=Bn(e);C.setAttribute("style",`${p};${Vn}`),C.value=e.value||e.placeholder||"";let v=C.scrollHeight;const w={};u==="border-box"?v=v+i:u==="content-box"&&(v=v-s),C.value="";const T=C.scrollHeight-s;if(Be(t)){let d=T*t;u==="border-box"&&(d=d+s+i),v=Math.max(d,v),w.minHeight=`${d}px`}if(Be(o)){let d=T*o;u==="border-box"&&(d=d+s+i),v=Math.min(d,v)}return w.height=`${v}px`,(n=C.parentNode)==null||n.removeChild(C),C=void 0,w}const Hn=rt({id:{type:String,default:void 0},size:Nt,disabled:Boolean,modelValue:{type:he([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:he([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:He},prefixIcon:{type:He},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:he([Object,Array,String]),default:()=>Rt({})},autofocus:{type:Boolean,default:!1},...zn(["ariaLabel"])}),Dn={[we]:e=>ce(e),input:e=>ce(e),change:e=>ce(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Kn=["role"],Un=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Mn=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Wn=xe({name:"ElInput",inheritAttrs:!1}),Yn=xe({...Wn,props:Hn,emits:Dn,setup(e,{expose:t,emit:o}){const n=e,s=_t(),i=At(),u=m(()=>{const a={};return n.containerRole==="combobox"&&(a["aria-haspopup"]=s["aria-haspopup"],a["aria-owns"]=s["aria-owns"],a["aria-expanded"]=s["aria-expanded"]),a}),p=m(()=>[n.type==="textarea"?S.b():l.b(),l.m(W.value),l.is("disabled",c.value),l.is("exceed",vt.value),{[l.b("group")]:i.prepend||i.append,[l.m("prefix")]:i.prefix||n.prefixIcon,[l.m("suffix")]:i.suffix||n.suffixIcon||n.clearable||n.showPassword,[l.bm("suffix","password-clear")]:te.value&&pe.value,[l.b("hidden")]:n.type==="hidden"},s.class]),v=m(()=>[l.e("wrapper"),l.is("focus",_.value)]),w=Ln({excludeKeys:m(()=>Object.keys(u.value))}),{form:T,formItem:d}=zt(),{inputId:N}=Vt(n,{formItemContext:d}),W=$t(),c=Bt(),l=De("input"),S=De("textarea"),g=ue(),h=ue(),H=k(!1),R=k(!1),$=k(!1),ee=k(),O=ue(n.inputStyle),P=m(()=>g.value||h.value),{wrapperRef:Y,isFocused:_,handleFocus:X,handleBlur:F}=_n(P,{afterBlur(){var a;n.validateEvent&&((a=d==null?void 0:d.validate)==null||a.call(d,"blur").catch(f=>void 0))}}),Ce=m(()=>{var a;return(a=T==null?void 0:T.statusIcon)!=null?a:!1}),G=m(()=>(d==null?void 0:d.validateState)||""),Pe=m(()=>G.value&&Ht[G.value]),ft=m(()=>$.value?Dt:Kt),pt=m(()=>[s.style]),Ie=m(()=>[n.inputStyle,O.value,{resize:n.resize}]),A=m(()=>lt(n.modelValue)?"":String(n.modelValue)),te=m(()=>n.clearable&&!c.value&&!n.readonly&&!!A.value&&(_.value||H.value)),pe=m(()=>n.showPassword&&!c.value&&!n.readonly&&!!A.value&&(!!A.value||_.value)),D=m(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!c.value&&!n.readonly&&!n.showPassword),ve=m(()=>A.value.length),vt=m(()=>!!D.value&&ve.value>Number(n.maxlength)),mt=m(()=>!!i.suffix||!!n.suffixIcon||te.value||n.showPassword||D.value||!!G.value&&Ce.value),[ht,bt]=Rn(g);Ut(h,a=>{if(yt(),!D.value||n.resize!=="both")return;const f=a[0],{width:E}=f.contentRect;ee.value={right:`calc(100% - ${E+15+6}px)`}});const q=()=>{const{type:a,autosize:f}=n;if(!(!M||a!=="textarea"||!h.value))if(f){const E=Ke(f)?f.minRows:void 0,ne=Ke(f)?f.maxRows:void 0,ze=Xe(h.value,E,ne);O.value={overflowY:"hidden",...ze},V(()=>{h.value.offsetHeight,O.value=ze})}else O.value={minHeight:Xe(h.value).minHeight}},yt=(a=>{let f=!1;return()=>{var E;if(f||!n.autosize)return;((E=h.value)==null?void 0:E.offsetParent)===null||(a(),f=!0)}})(q),j=()=>{const a=P.value,f=n.formatter?n.formatter(A.value):A.value;!a||a.value===f||(a.value=f)},me=async a=>{ht();let{value:f}=a.target;if(n.formatter&&(f=n.parser?n.parser(f):f),!R.value){if(f===A.value){j();return}o(we,f),o("input",f),await V(),j(),bt()}},ke=a=>{o("change",a.target.value)},Oe=a=>{o("compositionstart",a),R.value=!0},Le=a=>{var f;o("compositionupdate",a);const E=(f=a.target)==null?void 0:f.value,ne=E[E.length-1]||"";R.value=!In(ne)},Ne=a=>{o("compositionend",a),R.value&&(R.value=!1,me(a))},gt=()=>{$.value=!$.value,Re()},Re=async()=>{var a;await V(),(a=P.value)==null||a.focus()},Et=()=>{var a;return(a=P.value)==null?void 0:a.blur()},wt=a=>{H.value=!1,o("mouseleave",a)},St=a=>{H.value=!0,o("mouseenter",a)},_e=a=>{o("keydown",a)},xt=()=>{var a;(a=P.value)==null||a.select()},Ae=()=>{o(we,""),o("change",""),o("clear"),o("input","")};return B(()=>n.modelValue,()=>{var a;V(()=>q()),n.validateEvent&&((a=d==null?void 0:d.validate)==null||a.call(d,"change").catch(f=>void 0))}),B(A,()=>j()),B(()=>n.type,async()=>{await V(),j(),q()}),de(()=>{!n.formatter&&n.parser,j(),V(q)}),Mt({from:"label",replacement:"aria-label",version:"2.8.0",scope:"el-input",ref:"https://element-plus.org/en-US/component/input.html"},m(()=>!!n.label)),t({input:g,textarea:h,ref:P,textareaStyle:Ie,autosize:Wt(n,"autosize"),focus:Re,blur:Et,select:xt,clear:Ae,resizeTextarea:q}),(a,f)=>(b(),I("div",ye(r(u),{class:[r(p),{[r(l).bm("group","append")]:a.$slots.append,[r(l).bm("group","prepend")]:a.$slots.prepend}],style:r(pt),role:a.containerRole,onMouseenter:St,onMouseleave:wt}),[y(" input "),a.type!=="textarea"?(b(),I(be,{key:0},[y(" prepend slot "),a.$slots.prepend?(b(),I("div",{key:0,class:x(r(l).be("group","prepend"))},[Z(a.$slots,"prepend")],2)):y("v-if",!0),K("div",{ref_key:"wrapperRef",ref:Y,class:x(r(v))},[y(" prefix slot "),a.$slots.prefix||a.prefixIcon?(b(),I("span",{key:0,class:x(r(l).e("prefix"))},[K("span",{class:x(r(l).e("prefix-inner"))},[Z(a.$slots,"prefix"),a.prefixIcon?(b(),L(r(Q),{key:0,class:x(r(l).e("icon"))},{default:J(()=>[(b(),L(oe(a.prefixIcon)))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0),K("input",ye({id:r(N),ref_key:"input",ref:g,class:r(l).e("inner")},r(w),{minlength:a.minlength,maxlength:a.maxlength,type:a.showPassword?$.value?"text":"password":a.type,disabled:r(c),readonly:a.readonly,autocomplete:a.autocomplete,tabindex:a.tabindex,"aria-label":a.label||a.ariaLabel,placeholder:a.placeholder,style:a.inputStyle,form:a.form,autofocus:a.autofocus,onCompositionstart:Oe,onCompositionupdate:Le,onCompositionend:Ne,onInput:me,onFocus:f[0]||(f[0]=(...E)=>r(X)&&r(X)(...E)),onBlur:f[1]||(f[1]=(...E)=>r(F)&&r(F)(...E)),onChange:ke,onKeydown:_e}),null,16,Un),y(" suffix slot "),r(mt)?(b(),I("span",{key:1,class:x(r(l).e("suffix"))},[K("span",{class:x(r(l).e("suffix-inner"))},[!r(te)||!r(pe)||!r(D)?(b(),I(be,{key:0},[Z(a.$slots,"suffix"),a.suffixIcon?(b(),L(r(Q),{key:0,class:x(r(l).e("icon"))},{default:J(()=>[(b(),L(oe(a.suffixIcon)))]),_:1},8,["class"])):y("v-if",!0)],64)):y("v-if",!0),r(te)?(b(),L(r(Q),{key:1,class:x([r(l).e("icon"),r(l).e("clear")]),onMousedown:Gt(r(qt),["prevent"]),onClick:Ae},{default:J(()=>[Yt(r(Xt))]),_:1},8,["class","onMousedown"])):y("v-if",!0),r(pe)?(b(),L(r(Q),{key:2,class:x([r(l).e("icon"),r(l).e("password")]),onClick:gt},{default:J(()=>[(b(),L(oe(r(ft))))]),_:1},8,["class"])):y("v-if",!0),r(D)?(b(),I("span",{key:3,class:x(r(l).e("count"))},[K("span",{class:x(r(l).e("count-inner"))},ae(r(ve))+" / "+ae(a.maxlength),3)],2)):y("v-if",!0),r(G)&&r(Pe)&&r(Ce)?(b(),L(r(Q),{key:4,class:x([r(l).e("icon"),r(l).e("validateIcon"),r(l).is("loading",r(G)==="validating")])},{default:J(()=>[(b(),L(oe(r(Pe))))]),_:1},8,["class"])):y("v-if",!0)],2)],2)):y("v-if",!0)],2),y(" append slot "),a.$slots.append?(b(),I("div",{key:1,class:x(r(l).be("group","append"))},[Z(a.$slots,"append")],2)):y("v-if",!0)],64)):(b(),I(be,{key:1},[y(" textarea "),K("textarea",ye({id:r(N),ref_key:"textarea",ref:h,class:[r(S).e("inner"),r(l).is("focus",r(_))]},r(w),{minlength:a.minlength,maxlength:a.maxlength,tabindex:a.tabindex,disabled:r(c),readonly:a.readonly,autocomplete:a.autocomplete,style:r(Ie),"aria-label":a.label||a.ariaLabel,placeholder:a.placeholder,form:a.form,autofocus:a.autofocus,onCompositionstart:Oe,onCompositionupdate:Le,onCompositionend:Ne,onInput:me,onFocus:f[2]||(f[2]=(...E)=>r(X)&&r(X)(...E)),onBlur:f[3]||(f[3]=(...E)=>r(F)&&r(F)(...E)),onChange:ke,onKeydown:_e}),null,16,Mn),r(D)?(b(),I("span",{key:0,style:jt(ee.value),class:x(r(l).e("count"))},ae(r(ve))+" / "+ae(a.maxlength),7)):y("v-if",!0)],64))],16,Kn))}});var Xn=it(Yn,[["__file","input.vue"]]);const po=Jt(Xn),ge="focus-trap.focus-after-trapped",Ee="focus-trap.focus-after-released",Gn="focus-trap.focusout-prevented",Ge={cancelable:!0,bubbles:!1},qn={cancelable:!0,bubbles:!1},qe="focusAfterTrapped",je="focusAfterReleased",jn=Symbol("elFocusTrap"),Te=k(),fe=k(0),Fe=k(0);let re=0;const dt=e=>{const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0||n===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t},Je=(e,t)=>{for(const o of e)if(!Jn(o,t))return o},Jn=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Qn=e=>{const t=dt(e),o=Je(t,e),n=Je(t.reverse(),e);return[o,n]},Zn=e=>e instanceof HTMLInputElement&&"select"in e,z=(e,t)=>{if(e&&e.focus){const o=document.activeElement;e.focus({preventScroll:!0}),Fe.value=window.performance.now(),e!==o&&Zn(e)&&t&&e.select()}};function Qe(e,t){const o=[...e],n=e.indexOf(t);return n!==-1&&o.splice(n,1),o}const eo=()=>{let e=[];return{push:n=>{const s=e[0];s&&n!==s&&s.pause(),e=Qe(e,n),e.unshift(n)},remove:n=>{var s,i;e=Qe(e,n),(i=(s=e[0])==null?void 0:s.resume)==null||i.call(s)}}},to=(e,t=!1)=>{const o=document.activeElement;for(const n of e)if(z(n,t),document.activeElement!==o)return},Ze=eo(),no=()=>fe.value>Fe.value,le=()=>{Te.value="pointer",fe.value=window.performance.now()},et=()=>{Te.value="keyboard",fe.value=window.performance.now()},oo=()=>(de(()=>{re===0&&(document.addEventListener("mousedown",le),document.addEventListener("touchstart",le),document.addEventListener("keydown",et)),re++}),Se(()=>{re--,re<=0&&(document.removeEventListener("mousedown",le),document.removeEventListener("touchstart",le),document.removeEventListener("keydown",et))}),{focusReason:Te,lastUserFocusTimestamp:fe,lastAutomatedFocusTimestamp:Fe}),ie=e=>new CustomEvent(Gn,{...qn,detail:e}),ao=xe({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[qe,je,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const o=k();let n,s;const{focusReason:i}=oo();Nn(c=>{e.trapped&&!u.paused&&t("release-requested",c)});const u={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},p=c=>{if(!e.loop&&!e.trapped||u.paused)return;const{key:l,altKey:S,ctrlKey:g,metaKey:h,currentTarget:H,shiftKey:R}=c,{loop:$}=e,ee=l===st.tab&&!S&&!g&&!h,O=document.activeElement;if(ee&&O){const P=H,[Y,_]=Qn(P);if(Y&&_){if(!R&&O===_){const F=ie({focusReason:i.value});t("focusout-prevented",F),F.defaultPrevented||(c.preventDefault(),$&&z(Y,!0))}else if(R&&[Y,P].includes(O)){const F=ie({focusReason:i.value});t("focusout-prevented",F),F.defaultPrevented||(c.preventDefault(),$&&z(_,!0))}}else if(O===P){const F=ie({focusReason:i.value});t("focusout-prevented",F),F.defaultPrevented||c.preventDefault()}}};Qt(jn,{focusTrapRef:o,onKeydown:p}),B(()=>e.focusTrapEl,c=>{c&&(o.value=c)},{immediate:!0}),B([o],([c],[l])=>{c&&(c.addEventListener("keydown",p),c.addEventListener("focusin",T),c.addEventListener("focusout",d)),l&&(l.removeEventListener("keydown",p),l.removeEventListener("focusin",T),l.removeEventListener("focusout",d))});const v=c=>{t(qe,c)},w=c=>t(je,c),T=c=>{const l=r(o);if(!l)return;const S=c.target,g=c.relatedTarget,h=S&&l.contains(S);e.trapped||g&&l.contains(g)||(n=g),h&&t("focusin",c),!u.paused&&e.trapped&&(h?s=S:z(s,!0))},d=c=>{const l=r(o);if(!(u.paused||!l))if(e.trapped){const S=c.relatedTarget;!lt(S)&&!l.contains(S)&&setTimeout(()=>{if(!u.paused&&e.trapped){const g=ie({focusReason:i.value});t("focusout-prevented",g),g.defaultPrevented||z(s,!0)}},0)}else{const S=c.target;S&&l.contains(S)||t("focusout",c)}};async function N(){await V();const c=r(o);if(c){Ze.push(u);const l=c.contains(document.activeElement)?n:document.activeElement;if(n=l,!c.contains(l)){const g=new Event(ge,Ge);c.addEventListener(ge,v),c.dispatchEvent(g),g.defaultPrevented||V(()=>{let h=e.focusStartEl;ce(h)||(z(h),document.activeElement!==h&&(h="first")),h==="first"&&to(dt(c),!0),(document.activeElement===l||h==="container")&&z(c)})}}}function W(){const c=r(o);if(c){c.removeEventListener(ge,v);const l=new CustomEvent(Ee,{...Ge,detail:{focusReason:i.value}});c.addEventListener(Ee,w),c.dispatchEvent(l),!l.defaultPrevented&&(i.value=="keyboard"||!no()||c.contains(document.activeElement))&&z(n??document.body),c.removeEventListener(Ee,w),Ze.remove(u)}}return de(()=>{e.trapped&&N(),B(()=>e.trapped,c=>{c?N():W()})}),Se(()=>{e.trapped&&W()}),{onKeydown:p}}});function so(e,t,o,n,s,i){return Z(e.$slots,"default",{handleKeydown:e.onKeydown})}var vo=it(ao,[["render",so],["__file","focus-trap.vue"]]);export{po as E,jn as F,zn as a,hn as b,un as c,uo as d,en as e,ct as f,yn as g,xn as h,In as i,fn as j,vo as k,co as l,cn as o,Cn as p,fo as s,io as t,_n as u};
