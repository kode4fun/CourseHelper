import{z as W,O as I,o as N,aH as C,ar as D,u as O,c as $,L as A,a_ as x,w as U,bN as j,aY as F,bO as K,a$ as V,bp as y,T as _,X as L,d as q,a5 as G,bP as h,m as k,b0 as J}from"./index-D_yE4nD3.js";import{t as Q,l as Z}from"./el-input-C4MnRXfs.js";const le=(e,o,n,s)=>{let l={offsetX:0,offsetY:0};const a=u=>{const m=u.clientX,v=u.clientY,{offsetX:f,offsetY:p}=l,d=e.value.getBoundingClientRect(),b=d.left,g=d.top,T=d.width,Y=d.height,S=document.documentElement.clientWidth,H=document.documentElement.clientHeight,P=-b+f,X=-g+p,B=S-b-T+f,z=H-g-Y+p,w=E=>{let i=f+E.clientX-m,r=p+E.clientY-v;s!=null&&s.value||(i=Math.min(Math.max(i,P),B),r=Math.min(Math.max(r,X),z)),l={offsetX:i,offsetY:r},e.value&&(e.value.style.transform=`translate(${C(i)}, ${C(r)})`)},M=()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",w),document.addEventListener("mouseup",M)},t=()=>{o.value&&e.value&&o.value.addEventListener("mousedown",a)},c=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",a)};W(()=>{I(()=>{n.value?t():c()})}),N(()=>{c()})},ce=(e,o={})=>{D(e)||Q("[useLockscreen]","You need to pass a ref param to this function");const n=o.ns||O("popup"),s=$(()=>n.bm("parent","hidden"));if(!A||x(document.body,s.value))return;let l=0,a=!1,t="0";const c=()=>{setTimeout(()=>{V(document==null?void 0:document.body,s.value),a&&document&&(document.body.style.width=t)},200)};U(e,u=>{if(!u){c();return}a=!x(document.body,s.value),a&&(t=document.body.style.width),l=Z(n.namespace.value);const m=document.documentElement.clientHeight<document.body.scrollHeight,v=j(document.body,"overflowY");l>0&&(m||v==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`),F(document.body,s.value)}),K(()=>c())},R=e=>{if(!e)return{onClick:y,onMousedown:y,onMouseup:y};let o=!1,n=!1;return{onClick:t=>{o&&n&&e(t),o=n=!1},onMousedown:t=>{o=t.target===t.currentTarget},onMouseup:t=>{n=t.target===t.currentTarget}}},ee=_({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:L([String,Array,Object])},zIndex:{type:L([String,Number])}}),te={click:e=>e instanceof MouseEvent},oe="overlay";var ne=q({name:"ElOverlay",props:ee,emits:te,setup(e,{slots:o,emit:n}){const s=O(oe),l=u=>{n("click",u)},{onClick:a,onMousedown:t,onMouseup:c}=R(e.customMaskEvent?void 0:l);return()=>e.mask?G("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:t,onMouseup:c},[k(o,"default")],h.STYLE|h.CLASS|h.PROPS,["onClick","onMouseup","onMousedown"]):J("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[k(o,"default")])}});const ue=ne;export{ue as E,ce as a,R as b,le as u};
